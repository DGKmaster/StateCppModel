
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
iterations = 1000;
input = 1;

A = [0, 1, 0; 0, 0, 1; -1.5, -5, -2];
T = 0.01;
B = [0; 0; 1];
C = [0.5 0 0];

Ad = expm(A*T);
Bd = inv(A)*(Ad - eye(3))*B;
Cd = C;

x = zeros(3, iterations);
y = zeros(-1, iterations);

% for i=2:iterations
%     x(:, i) = Ad*x(:, i-1) + Bd*input;
%     y(:, i) = Cd*x(:, i);
% end

% plot(y);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
x_i = zeros(2, iterations);
A = [0 -1; omega^2 0];
for i=2:iterations
    MatExp = inv(eye(2)+A*T)*x_i(:,i-1);
    x_i(:,i) = x_i(:,i) - A*MatExp*T;
end
plot(x_i);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
